<!DOCTYPE html>
<html lang="en" class="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Form Builder v4 — Type-Specific + Live Preview</title>
<script src="https://cdn.tailwindcss.com"></script>
<script>tailwind.config={darkMode:'class'}</script>
<style>
  body { background: #010409; }
  .card-lift { transition: transform .15s, box-shadow .15s; }
  .card-lift:hover { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(0,0,0,.15); }
  @keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
  .slide-in { animation: slideIn .2s ease-out; }
</style>
</head>
<body class="dark text-[#E6EDF3] min-h-screen">

<!-- Header -->
<header class="sticky top-0 z-30 bg-[#010409]/95 backdrop-blur border-b border-[#30363D]/60 px-4 sm:px-6 py-3">
  <div class="max-w-7xl mx-auto flex items-center justify-between">
    <div class="flex items-center gap-3">
      <span class="text-lg font-bold bg-gradient-to-r from-[#818CF8] to-[#6366F1] bg-clip-text text-transparent">FormBuilder</span>
      <span class="text-xs px-2 py-0.5 rounded-full bg-[#6366F1]/10 text-[#818CF8] border border-[#6366F1]/20">v4</span>
    </div>
    <div class="flex gap-2">
      <button onclick="document.querySelector('#mobile-toggle').click()" class="sm:hidden px-3 py-1.5 text-xs bg-[#21262D] rounded-lg text-[#8B949E]">Toggle Mobile</button>
    </div>
  </div>
</header>

<main class="max-w-7xl mx-auto px-4 sm:px-6 py-6">
  <div class="grid grid-cols-1 lg:grid-cols-5 gap-5">

    <!-- LEFT: Field Configuration (3 cols) -->
    <div class="lg:col-span-3 space-y-4">
      <div class="bg-[#0D1117] border border-[#30363D]/60 rounded-xl p-4 sm:p-5">
        <div class="flex items-center justify-between mb-1">
          <h3 class="text-sm font-semibold text-[#E6EDF3]">Standard Fields</h3>
        </div>
        <p class="text-xs text-[#6E7681] mb-3">
          <span class="hidden sm:inline">Built-in fields available for every request. Use the toggle for form visibility and the eye icon for card badge visibility.</span>
          <span class="sm:hidden">Toggle fields on/off and set card badge visibility.</span>
        </p>

        <!-- Legend -->
        <div class="flex items-center gap-3 sm:gap-5 mb-3 px-2 sm:px-3 py-2 bg-[#161B22] rounded-lg text-[10px] text-[#6E7681] uppercase tracking-wider">
          <span class="flex items-center gap-1.5">
            <span class="w-6 h-3 rounded-full bg-[#6366F1] inline-block"></span>
            On form
          </span>
          <span class="flex items-center gap-1.5">
            <svg class="w-3 h-3 text-[#818CF8]" fill="currentColor" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            On card
          </span>
        </div>

        <!-- Field List -->
        <div class="space-y-1" id="field-list">
          <!-- Title (locked) -->
          <div class="group flex items-center gap-3 py-3 px-3 rounded-lg bg-[#161B22]/50 border border-[#30363D]/30">
            <div class="flex-1 flex items-center gap-2 min-w-0">
              <span class="text-sm font-medium text-[#E6EDF3] truncate">Title</span>
              <span class="hidden sm:inline text-[10px] px-1.5 py-0.5 rounded bg-[#21262D] text-[#8B949E]">text</span>
              <span class="text-[10px] px-1.5 py-0.5 rounded bg-red-500/10 text-red-400 border border-red-500/20">req<span class="hidden sm:inline">uired</span></span>
            </div>
            <span class="text-[10px] text-[#484F58] uppercase tracking-wider">always visible</span>
          </div>

          <!-- Category -->
          <div class="group flex items-center gap-3 py-3 px-3 rounded-lg hover:bg-[#161B22]/40">
            <div class="opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity cursor-grab text-[#484F58]">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M8 6h2v2H8V6zm6 0h2v2h-2V6zM8 11h2v2H8v-2zm6 0h2v2h-2v-2zm-6 5h2v2H8v-2zm6 0h2v2h-2v-2z"/></svg>
            </div>
            <div class="flex-1 flex items-center gap-2 min-w-0">
              <span class="text-sm font-medium text-[#E6EDF3] truncate">Category</span>
              <span class="hidden sm:inline text-[10px] px-1.5 py-0.5 rounded bg-[#21262D] text-[#8B949E]">select</span>
              <span class="text-[10px] px-1.5 py-0.5 rounded bg-red-500/10 text-red-400 border border-red-500/20">req<span class="hidden sm:inline">uired</span></span>
            </div>
            <button class="p-1.5 rounded-md text-[#818CF8] hover:bg-[#818CF8]/10"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg></button>
          </div>

          <!-- Priority -->
          <div class="group flex items-center gap-3 py-3 px-3 rounded-lg hover:bg-[#161B22]/40">
            <div class="opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity cursor-grab text-[#484F58]">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M8 6h2v2H8V6zm6 0h2v2h-2V6zM8 11h2v2H8v-2zm6 0h2v2h-2v-2zm-6 5h2v2H8v-2zm6 0h2v2h-2v-2z"/></svg>
            </div>
            <div class="flex-1 flex items-center gap-2 min-w-0">
              <span class="text-sm font-medium text-[#E6EDF3] truncate">Priority</span>
              <span class="hidden sm:inline text-[10px] px-1.5 py-0.5 rounded bg-[#21262D] text-[#8B949E]">select</span>
              <span class="text-[10px] px-1.5 py-0.5 rounded bg-red-500/10 text-red-400 border border-red-500/20">req<span class="hidden sm:inline">uired</span></span>
            </div>
            <button class="p-1.5 rounded-md text-[#818CF8] hover:bg-[#818CF8]/10"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg></button>
          </div>

          <!-- Team (toggleable, currently off) -->
          <div class="group flex items-center gap-3 py-3 px-3 rounded-lg hover:bg-[#161B22]/40 opacity-45">
            <div class="opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity cursor-grab text-[#484F58]">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M8 6h2v2H8V6zm6 0h2v2h-2V6zM8 11h2v2H8v-2zm6 0h2v2h-2v-2zm-6 5h2v2H8v-2zm6 0h2v2h-2v-2z"/></svg>
            </div>
            <div class="flex-1 flex items-center gap-2 min-w-0">
              <span class="text-sm font-medium text-[#8B949E] truncate">Team</span>
              <span class="hidden sm:inline text-[10px] px-1.5 py-0.5 rounded bg-[#21262D] text-[#8B949E]">select</span>
            </div>
            <button class="p-1.5 rounded-md text-[#484F58]"><svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"/></svg></button>
            <button class="w-9 h-5 rounded-full relative bg-[#30363D]"><div class="w-4 h-4 bg-white rounded-full absolute top-[2px] translate-x-[2px]"></div></button>
          </div>

          <!-- Custom Fields Separator -->
          <div class="pt-3 mt-2">
            <div class="flex items-center gap-2 mb-2 px-1">
              <div class="h-px flex-1 bg-[#30363D]/60"></div>
              <span class="text-[10px] uppercase tracking-wider text-[#6E7681] font-medium">Custom Fields</span>
              <span class="text-[10px] px-1.5 py-0.5 rounded-full bg-[#6366F1]/10 text-[#818CF8] border border-[#6366F1]/20">2</span>
              <div class="h-px flex-1 bg-[#30363D]/60"></div>
            </div>

            <!-- Custom: Revenue Impact (number) -->
            <div class="group flex items-center gap-3 py-3 px-3 rounded-lg border-l-2 border-l-[#10B981] bg-[#161B22]/30 hover:bg-[#161B22]/50">
              <div class="opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity cursor-grab text-[#484F58]">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M8 6h2v2H8V6zm6 0h2v2h-2V6zM8 11h2v2H8v-2zm6 0h2v2h-2v-2zm-6 5h2v2H8v-2zm6 0h2v2h-2v-2z"/></svg>
              </div>
              <div class="w-2.5 h-2.5 rounded-full bg-[#10B981]"></div>
              <div class="flex-1 flex items-center gap-2 min-w-0">
                <span class="text-sm font-medium text-[#E6EDF3] truncate" id="revenue-label">Revenue Impact</span>
                <span class="hidden sm:inline text-[10px] px-1.5 py-0.5 rounded bg-[#21262D] text-[#8B949E]">number</span>
              </div>
              <button class="p-1.5 rounded-md text-[#818CF8] hover:bg-[#818CF8]/10"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg></button>
              <button onclick="openEditor()" class="opacity-100 sm:opacity-0 sm:group-hover:opacity-100 p-1.5 rounded-md text-[#6E7681] hover:text-[#E6EDF3] hover:bg-[#21262D] transition-all">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><circle cx="12" cy="12" r="3"/></svg>
              </button>
            </div>

            <!-- Custom: Customer Tier (select) -->
            <div class="group flex items-center gap-3 py-3 px-3 rounded-lg border-l-2 border-l-[#3B82F6] bg-[#161B22]/30 hover:bg-[#161B22]/50">
              <div class="opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity cursor-grab text-[#484F58]">
                <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M8 6h2v2H8V6zm6 0h2v2h-2V6zM8 11h2v2H8v-2zm6 0h2v2h-2v-2zm-6 5h2v2H8v-2zm6 0h2v2h-2v-2z"/></svg>
              </div>
              <div class="w-2.5 h-2.5 rounded-full bg-[#3B82F6]"></div>
              <div class="flex-1 flex items-center gap-2 min-w-0">
                <span class="text-sm font-medium text-[#E6EDF3] truncate">Customer Tier</span>
                <span class="hidden sm:inline text-[10px] px-1.5 py-0.5 rounded bg-[#21262D] text-[#8B949E]">select</span>
                <span class="hidden sm:inline text-[10px] text-[#6E7681]">3 options</span>
              </div>
              <button class="p-1.5 rounded-md text-[#818CF8] hover:bg-[#818CF8]/10"><svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg></button>
              <button class="opacity-100 sm:opacity-0 sm:group-hover:opacity-100 p-1.5 rounded-md text-[#6E7681] hover:text-[#E6EDF3] hover:bg-[#21262D] transition-all">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><circle cx="12" cy="12" r="3"/></svg>
              </button>
            </div>
          </div>

          <!-- Add custom field button -->
          <div class="mt-3 pt-3 border-t border-[#30363D]/40">
            <button onclick="openAddField()" class="w-full py-2.5 rounded-lg border border-dashed border-[#30363D]/60 text-[#484F58] text-xs hover:border-[#6366F1]/40 hover:text-[#818CF8] transition-colors flex items-center justify-center gap-1.5">
              <svg class="w-3.5 h-3.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4"/></svg>
              Add custom field
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- RIGHT: Preview Panel (2 cols) -->
    <div class="lg:col-span-2">
      <div class="lg:sticky lg:top-16 space-y-4">
        <!-- Tab switcher -->
        <div class="flex gap-1 p-1 bg-[#0D1117] rounded-xl border border-[#30363D]/40">
          <button onclick="switchTab('form')" id="tab-form" class="flex-1 py-2 text-xs font-medium rounded-lg bg-[#21262D] text-[#E6EDF3]">Request Form</button>
          <button onclick="switchTab('card')" id="tab-card" class="flex-1 py-2 text-xs font-medium rounded-lg text-[#6E7681]">Request Card</button>
        </div>

        <!-- Form Preview -->
        <div id="preview-form" class="bg-[#0D1117] border border-[#30363D]/60 rounded-xl p-4 sm:p-5">
          <div class="flex items-center gap-2 mb-1">
            <svg class="w-4 h-4 text-[#6E7681]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/></svg>
            <h3 class="text-sm font-semibold text-[#E6EDF3]">New Request Form</h3>
          </div>
          <p class="text-[11px] text-[#6E7681] mb-4">This is what users see when submitting a new request</p>

          <div class="space-y-3.5 p-4 bg-[#161B22] rounded-lg border border-[#30363D]/30">
            <div>
              <label class="block text-xs font-medium text-[#E6EDF3] mb-1.5">Title <span class="text-red-400">*</span></label>
              <input type="text" class="w-full px-3 py-2 bg-[#0D1117] border border-[#30363D] rounded-lg text-[#484F58] text-sm" placeholder="Enter title..." disabled>
            </div>
            <div>
              <label class="block text-xs font-medium text-[#E6EDF3] mb-1.5">Category <span class="text-red-400">*</span></label>
              <select class="w-full px-3 py-2 bg-[#0D1117] border border-[#30363D] rounded-lg text-[#484F58] text-sm appearance-none" disabled><option>Select category...</option></select>
            </div>
            <div>
              <label class="block text-xs font-medium text-[#E6EDF3] mb-1.5">Priority <span class="text-red-400">*</span></label>
              <select class="w-full px-3 py-2 bg-[#0D1117] border border-[#30363D] rounded-lg text-[#484F58] text-sm appearance-none" disabled><option>Select priority...</option></select>
            </div>

            <!-- Custom Fields -->
            <div class="border-t border-[#30363D]/40 pt-3.5 mt-1">
              <p class="text-[10px] uppercase tracking-wider text-[#6E7681] mb-3 flex items-center gap-1.5">
                <span class="w-1.5 h-1.5 rounded-full bg-[#6366F1]"></span>
                Custom Fields
              </p>
              <div class="space-y-3.5">
                <div>
                  <label class="block text-xs font-medium text-[#E6EDF3] mb-1.5">
                    <span class="inline-block w-1.5 h-1.5 rounded-full mr-1.5 bg-[#10B981]"></span>
                    <span id="preview-revenue-label">Revenue Impact</span>
                  </label>
                  <input type="number" class="w-full px-3 py-2 bg-[#0D1117] border border-[#30363D] rounded-lg text-[#484F58] text-sm" placeholder="Enter amount..." disabled>
                  <p class="text-[10px] text-[#6E7681] mt-1" id="preview-revenue-hint">min: 0 · max: 10000000 · step: 1000</p>
                </div>
                <div>
                  <label class="block text-xs font-medium text-[#E6EDF3] mb-1.5">
                    <span class="inline-block w-1.5 h-1.5 rounded-full mr-1.5 bg-[#3B82F6]"></span>
                    Customer Tier
                  </label>
                  <select class="w-full px-3 py-2 bg-[#0D1117] border border-[#30363D] rounded-lg text-[#484F58] text-sm appearance-none" disabled>
                    <option>Select customer tier...</option>
                    <option>Enterprise</option>
                    <option>Pro</option>
                    <option>Starter</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Card Preview (hidden by default) -->
        <div id="preview-card" class="hidden bg-[#0D1117] border border-[#30363D]/60 rounded-xl p-4 sm:p-5">
          <div class="flex items-center gap-2 mb-1">
            <svg class="w-4 h-4 text-[#6E7681]" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"/></svg>
            <h3 class="text-sm font-semibold text-[#E6EDF3]">Request Card</h3>
          </div>
          <p class="text-[11px] text-[#6E7681] mb-4">How requests appear in the dashboard</p>

          <article class="bg-[#161B22] border border-[#30363D]/40 rounded-xl p-4 sm:p-5 card-lift">
            <div class="flex items-center gap-2 mb-3">
              <div class="flex items-center gap-1.5 sm:gap-2 flex-wrap flex-1 min-w-0">
                <span class="inline-flex items-center gap-1 text-[10px] sm:text-xs font-medium px-1.5 sm:px-2 py-0.5 rounded bg-purple-500/10 text-purple-400 border border-purple-500/20">Feature</span>
                <span class="hidden sm:inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded bg-red-500/10 text-red-400 border border-red-500/20">High</span>
                <span class="inline-flex items-center gap-1 text-[10px] sm:text-xs font-medium px-1.5 sm:px-2 py-0.5 rounded" style="background:#10B98118;color:#10B981;border:1px solid #10B98130">
                  <span class="truncate max-w-[60px] sm:max-w-none" id="card-revenue-label">Revenue Impact</span>
                </span>
                <span class="inline-flex items-center gap-1 text-[10px] sm:text-xs font-medium px-1.5 sm:px-2 py-0.5 rounded" style="background:#3B82F618;color:#3B82F6;border:1px solid #3B82F630">
                  <span class="truncate max-w-[60px] sm:max-w-none">Customer Tier</span>
                </span>
              </div>
              <!-- Status: dot on mobile, badge on desktop -->
              <div class="sm:hidden"><span class="w-2.5 h-2.5 rounded-full inline-block bg-amber-400"></span></div>
              <div class="hidden sm:block"><span class="text-[10px] sm:text-xs font-medium px-2 py-0.5 rounded bg-amber-500/10 text-amber-400 border border-amber-500/20">Pending</span></div>
            </div>
            <h3 class="text-sm sm:text-base font-medium text-[#E6EDF3] mb-1.5 line-clamp-2">Improve search performance for large datasets</h3>
            <p class="hidden sm:block text-xs text-[#8B949E] mb-4 line-clamp-2">Multiple users have reported slow search results when querying datasets with over 10,000 records...</p>
            <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-3 pt-3 border-t border-[#30363D]/40">
              <div class="text-xs text-[#6E7681] truncate"><span class="text-[#8B949E]">Alex Kim</span><span class="mx-1.5">&middot;</span>2d ago</div>
              <div class="flex items-center gap-1.5 sm:gap-2">
                <span class="flex items-center gap-1.5 min-w-[44px] sm:min-w-0 justify-center px-2.5 sm:px-2 py-1.5 sm:py-1 rounded-lg sm:rounded text-xs font-medium bg-[#6366F1] text-white">
                  <svg class="w-4 h-4 sm:w-3.5 sm:h-3.5" fill="currentColor" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/></svg>24
                </span>
                <span class="flex items-center gap-1.5 min-w-[44px] sm:min-w-0 justify-center px-2.5 sm:px-2 py-1.5 sm:py-1 rounded-lg sm:rounded text-xs font-medium bg-[#21262D] text-[#8B949E]">
                  <svg class="w-4 h-4 sm:w-3.5 sm:h-3.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/></svg>8
                </span>
                <span class="flex items-center gap-1.5 min-w-[44px] sm:min-w-0 justify-center px-2.5 sm:px-2 py-1.5 sm:py-1 text-xs text-[#6E7681]">
                  <svg class="w-4 h-4 sm:w-3.5 sm:h-3.5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"/></svg>5
                </span>
              </div>
            </div>
          </article>

          <!-- Badge summary -->
          <div class="mt-4 p-3 bg-[#161B22]/50 rounded-lg border border-[#30363D]/30">
            <p class="text-[11px] text-[#6E7681] font-medium mb-2">Visible on card (4 badges)</p>
            <div class="flex flex-wrap gap-1.5">
              <span class="text-[10px] px-2 py-0.5 rounded bg-purple-500/10 text-purple-400 border border-purple-500/20">Category</span>
              <span class="text-[10px] px-2 py-0.5 rounded bg-red-500/10 text-red-400 border border-red-500/20">Priority</span>
              <span class="text-[10px] px-2 py-0.5 rounded" style="background:#10B98112;color:#10B981;border:1px solid #10B98120">Revenue Impact</span>
              <span class="text-[10px] px-2 py-0.5 rounded" style="background:#3B82F612;color:#3B82F6;border:1px solid #3B82F620">Customer Tier</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<!-- Field Editor Slide-out (hidden) -->
<div id="editor-backdrop" class="fixed inset-0 bg-black/50 z-40 hidden" onclick="closeEditor()"></div>
<div id="editor-panel" class="fixed top-0 right-0 bottom-0 w-full max-w-md bg-[#0D1117] border-l border-[#30363D] z-50 flex-col hidden slide-in">
  <div class="flex items-center justify-between p-5 border-b border-[#30363D]/60">
    <div class="flex items-center gap-3">
      <div class="w-3 h-3 rounded-full bg-[#10B981]"></div>
      <div>
        <h3 class="text-sm font-semibold text-[#E6EDF3]">Edit: Revenue Impact</h3>
        <p class="text-[10px] text-[#6E7681]">Custom field &middot; number</p>
      </div>
    </div>
    <button onclick="closeEditor()" class="p-1.5 text-[#6E7681] hover:text-[#E6EDF3] hover:bg-[#21262D] rounded-lg">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
    </button>
  </div>
  <div class="flex-1 overflow-y-auto p-5 space-y-5">
    <!-- Field Name -->
    <div>
      <label class="block text-xs font-medium text-[#E6EDF3] mb-1.5">Field Name</label>
      <input id="editor-label" type="text" value="Revenue Impact" oninput="liveUpdateLabel(this.value)" class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1]">
    </div>

    <!-- Field Type -->
    <div>
      <label class="block text-xs font-medium text-[#E6EDF3] mb-1.5">Field Type</label>
      <select class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm appearance-none">
        <option>Text</option><option>Text Area</option><option>Select (dropdown)</option><option selected>Number</option><option>Date</option><option>Checkbox</option><option>Rating (1-5)</option>
      </select>
    </div>

    <!-- Badge Color -->
    <div>
      <label class="block text-xs font-medium text-[#E6EDF3] mb-2">Badge Color</label>
      <div class="flex gap-2 flex-wrap">
        <button class="w-7 h-7 rounded-lg hover:scale-110 transition-all" style="background:#6366F1"></button>
        <button class="w-7 h-7 rounded-lg hover:scale-110 transition-all" style="background:#3B82F6"></button>
        <button class="w-7 h-7 rounded-lg ring-2 ring-offset-2 ring-offset-[#0D1117] transition-all" style="background:#10B981;--tw-ring-color:#10B981"></button>
        <button class="w-7 h-7 rounded-lg hover:scale-110 transition-all" style="background:#F59E0B"></button>
        <button class="w-7 h-7 rounded-lg hover:scale-110 transition-all" style="background:#EF4444"></button>
        <button class="w-7 h-7 rounded-lg hover:scale-110 transition-all" style="background:#EC4899"></button>
        <button class="w-7 h-7 rounded-lg hover:scale-110 transition-all" style="background:#8B5CF6"></button>
        <button class="w-7 h-7 rounded-lg hover:scale-110 transition-all" style="background:#06B6D4"></button>
      </div>
      <div class="mt-2.5 flex items-center gap-2">
        <span class="text-[10px] text-[#6E7681]">Preview:</span>
        <span class="inline-flex items-center text-xs font-medium px-2 py-0.5 rounded" style="background:#10B98118;color:#10B981;border:1px solid #10B98130" id="editor-badge-preview">Revenue Impact</span>
      </div>
    </div>

    <!-- Type-Specific: Number Settings -->
    <div>
      <label class="block text-xs font-medium text-[#E6EDF3] mb-2.5">Number Settings</label>
      <div class="p-3 bg-[#161B22]/50 rounded-lg border border-[#30363D]/30 space-y-3">
        <div>
          <label class="block text-xs font-medium text-[#8B949E] mb-1">Placeholder</label>
          <input type="text" value="Enter amount..." class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1] placeholder-[#484F58]">
        </div>
        <div class="grid grid-cols-3 gap-2.5">
          <div>
            <label class="block text-xs font-medium text-[#8B949E] mb-1">Min</label>
            <input type="number" value="0" class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1]">
          </div>
          <div>
            <label class="block text-xs font-medium text-[#8B949E] mb-1">Max</label>
            <input type="number" value="10000000" class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1]">
          </div>
          <div>
            <label class="block text-xs font-medium text-[#8B949E] mb-1">Step</label>
            <input type="number" value="1000" class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1]">
          </div>
        </div>
        <p class="text-[10px] text-[#6E7681] mt-1">Range: 0 — 10000000 (step: 1000)</p>
      </div>
    </div>

    <!-- Toggles -->
    <div class="space-y-3 pt-2">
      <div class="flex items-center justify-between">
        <div><span class="text-xs text-[#E6EDF3]">Required</span><span class="block text-[10px] text-[#6E7681]">Users must fill this field</span></div>
        <button class="w-9 h-5 rounded-full relative bg-[#30363D]"><div class="w-4 h-4 bg-white rounded-full absolute top-[2px] translate-x-[2px]"></div></button>
      </div>
      <div class="flex items-center justify-between">
        <div><span class="text-xs text-[#E6EDF3]">Show on card</span><span class="block text-[10px] text-[#6E7681]">Display as badge on request cards</span></div>
        <button class="w-9 h-5 rounded-full relative bg-[#6366F1]"><div class="w-4 h-4 bg-white rounded-full absolute top-[2px] translate-x-[18px]"></div></button>
      </div>
    </div>
  </div>
  <div class="flex items-center justify-between p-4 border-t border-[#30363D]/60">
    <button class="text-xs text-red-400 hover:text-red-300">Delete field</button>
    <div class="flex gap-3">
      <button onclick="closeEditor()" class="px-4 py-2 text-sm text-[#8B949E] hover:text-[#E6EDF3]">Cancel</button>
      <button onclick="closeEditor()" class="px-4 py-2 text-sm font-medium bg-[#6366F1] text-white rounded-lg hover:bg-[#818CF8]">Save Changes</button>
    </div>
  </div>
</div>

<!-- Add Field Modal (hidden) -->
<div id="add-modal-backdrop" class="fixed inset-0 bg-black/50 z-40 hidden" onclick="closeAddField()"></div>
<div id="add-modal" class="fixed inset-0 z-50 flex items-center justify-center p-4 hidden">
  <div class="bg-[#0D1117] border border-[#30363D] rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto p-5">
    <h2 class="text-base font-semibold text-[#E6EDF3] mb-1">Add Custom Field</h2>
    <p class="text-xs text-[#6E7681] mb-5">Create a new field for your request form</p>

    <div class="space-y-5">
      <div>
        <label class="block text-xs font-medium text-[#E6EDF3] mb-1.5">Field Name</label>
        <input type="text" class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1] placeholder-[#484F58]" placeholder="e.g. Sprint, Customer Tier, Revenue Impact...">
      </div>

      <div>
        <label class="block text-xs font-medium text-[#E6EDF3] mb-2.5">Field Type</label>
        <div class="grid grid-cols-3 sm:grid-cols-4 gap-2">
          <button class="p-3 rounded-xl border border-[#6366F1] bg-[#6366F1]/10 text-center">
            <div class="mx-auto mb-1.5 text-[#818CF8]"><svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h7"/></svg></div>
            <span class="text-xs font-medium text-[#E6EDF3] block">Text</span>
            <span class="text-[10px] text-[#6E7681] block">Short answer</span>
          </button>
          <button class="p-3 rounded-xl border border-[#30363D] hover:border-[#6366F1]/50 text-center">
            <div class="mx-auto mb-1.5 text-[#8B949E]"><svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 10h16M4 14h16M4 18h16"/></svg></div>
            <span class="text-xs font-medium text-[#E6EDF3] block">Textarea</span>
            <span class="text-[10px] text-[#6E7681] block">Long answer</span>
          </button>
          <button class="p-3 rounded-xl border border-[#30363D] hover:border-[#6366F1]/50 text-center">
            <div class="mx-auto mb-1.5 text-[#8B949E]"><svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8 9l4-4 4 4m0 6l-4 4-4-4"/></svg></div>
            <span class="text-xs font-medium text-[#E6EDF3] block">Select</span>
            <span class="text-[10px] text-[#6E7681] block">Dropdown</span>
          </button>
          <button class="p-3 rounded-xl border border-[#30363D] hover:border-[#6366F1]/50 text-center">
            <div class="mx-auto mb-1.5 text-[#8B949E]"><svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M7 20l4-16m2 16l4-16M6 9h14M4 15h14"/></svg></div>
            <span class="text-xs font-medium text-[#E6EDF3] block">Number</span>
            <span class="text-[10px] text-[#6E7681] block">Numeric value</span>
          </button>
          <button class="p-3 rounded-xl border border-[#30363D] hover:border-[#6366F1]/50 text-center">
            <div class="mx-auto mb-1.5 text-[#8B949E]"><svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/></svg></div>
            <span class="text-xs font-medium text-[#E6EDF3] block">Date</span>
            <span class="text-[10px] text-[#6E7681] block">Date picker</span>
          </button>
          <button class="p-3 rounded-xl border border-[#30363D] hover:border-[#6366F1]/50 text-center">
            <div class="mx-auto mb-1.5 text-[#8B949E]"><svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"/></svg></div>
            <span class="text-xs font-medium text-[#E6EDF3] block">Checkbox</span>
            <span class="text-[10px] text-[#6E7681] block">Yes / No</span>
          </button>
          <button class="p-3 rounded-xl border border-[#30363D] hover:border-[#6366F1]/50 text-center">
            <div class="mx-auto mb-1.5 text-[#8B949E]"><svg class="w-5 h-5 mx-auto" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/></svg></div>
            <span class="text-xs font-medium text-[#E6EDF3] block">Rating</span>
            <span class="text-[10px] text-[#6E7681] block">Star scale</span>
          </button>
        </div>
      </div>

      <!-- Text Settings (shown when Text is selected) -->
      <div>
        <label class="block text-xs font-medium text-[#E6EDF3] mb-2">Text Settings</label>
        <div class="p-3 bg-[#161B22]/50 rounded-lg border border-[#30363D]/30 space-y-3">
          <div>
            <label class="block text-xs font-medium text-[#8B949E] mb-1">Placeholder</label>
            <input type="text" class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1] placeholder-[#484F58]" placeholder="e.g. Enter your answer...">
          </div>
          <div class="grid grid-cols-2 gap-2.5">
            <div>
              <label class="block text-xs font-medium text-[#8B949E] mb-1">Min characters</label>
              <input type="number" class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1]" placeholder="0">
            </div>
            <div>
              <label class="block text-xs font-medium text-[#8B949E] mb-1">Max characters</label>
              <input type="number" class="w-full px-3 py-2 bg-[#161B22] border border-[#30363D] rounded-lg text-[#E6EDF3] text-sm focus:outline-none focus:border-[#6366F1]" placeholder="No limit">
            </div>
          </div>
        </div>
      </div>

      <!-- Color + Toggles + Actions -->
      <div>
        <label class="block text-xs font-medium text-[#E6EDF3] mb-2">Badge Color</label>
        <div class="flex gap-2">
          <button class="w-7 h-7 rounded-lg ring-2 ring-offset-2 ring-offset-[#161B22]" style="background:#6366F1;--tw-ring-color:#6366F1"></button>
          <button class="w-7 h-7 rounded-lg hover:scale-110" style="background:#3B82F6"></button>
          <button class="w-7 h-7 rounded-lg hover:scale-110" style="background:#10B981"></button>
          <button class="w-7 h-7 rounded-lg hover:scale-110" style="background:#F59E0B"></button>
          <button class="w-7 h-7 rounded-lg hover:scale-110" style="background:#EF4444"></button>
          <button class="w-7 h-7 rounded-lg hover:scale-110" style="background:#EC4899"></button>
          <button class="w-7 h-7 rounded-lg hover:scale-110" style="background:#8B5CF6"></button>
          <button class="w-7 h-7 rounded-lg hover:scale-110" style="background:#06B6D4"></button>
        </div>
      </div>

      <div class="flex items-center gap-6">
        <label class="flex items-center gap-2 cursor-pointer">
          <button class="w-9 h-5 rounded-full relative bg-[#30363D]"><div class="w-4 h-4 bg-white rounded-full absolute top-[2px] translate-x-[2px]"></div></button>
          <span class="text-xs text-[#E6EDF3]">Required</span>
        </label>
        <label class="flex items-center gap-2 cursor-pointer">
          <button class="w-9 h-5 rounded-full relative bg-[#6366F1]"><div class="w-4 h-4 bg-white rounded-full absolute top-[2px] translate-x-[18px]"></div></button>
          <span class="text-xs text-[#E6EDF3]">Show on card</span>
        </label>
      </div>

      <div class="flex items-center justify-end gap-3 pt-2 border-t border-[#30363D]/60">
        <button onclick="closeAddField()" class="px-4 py-2 text-sm text-[#8B949E] hover:text-[#E6EDF3]">Cancel</button>
        <button onclick="closeAddField()" class="px-4 py-2 text-sm font-medium bg-[#6366F1] text-white rounded-lg hover:bg-[#818CF8]">Create Field</button>
      </div>
    </div>
  </div>
</div>

<script>
function switchTab(tab) {
  document.getElementById('preview-form').classList.toggle('hidden', tab !== 'form');
  document.getElementById('preview-card').classList.toggle('hidden', tab !== 'card');
  document.getElementById('tab-form').className = `flex-1 py-2 text-xs font-medium rounded-lg ${tab === 'form' ? 'bg-[#21262D] text-[#E6EDF3]' : 'text-[#6E7681]'}`;
  document.getElementById('tab-card').className = `flex-1 py-2 text-xs font-medium rounded-lg ${tab === 'card' ? 'bg-[#21262D] text-[#E6EDF3]' : 'text-[#6E7681]'}`;
}

function openEditor() {
  document.getElementById('editor-backdrop').classList.remove('hidden');
  document.getElementById('editor-panel').classList.remove('hidden');
  document.getElementById('editor-panel').classList.add('flex');
}
function closeEditor() {
  document.getElementById('editor-backdrop').classList.add('hidden');
  document.getElementById('editor-panel').classList.add('hidden');
  document.getElementById('editor-panel').classList.remove('flex');
}

function openAddField() {
  document.getElementById('add-modal-backdrop').classList.remove('hidden');
  document.getElementById('add-modal').classList.remove('hidden');
}
function closeAddField() {
  document.getElementById('add-modal-backdrop').classList.add('hidden');
  document.getElementById('add-modal').classList.add('hidden');
}

// Live preview update demo
function liveUpdateLabel(value) {
  document.getElementById('revenue-label').textContent = value || 'Revenue Impact';
  document.getElementById('preview-revenue-label').textContent = value || 'Revenue Impact';
  document.getElementById('card-revenue-label').textContent = value || 'Revenue Impact';
  document.getElementById('editor-badge-preview').textContent = value || 'Field';
}
</script>
</body>
</html>
